unit ulogin;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.Edit,
  FMX.Layouts, FMX.Controls.Presentation, FMX.StdCtrls, FMX.Objects,
  FMX.TabControl;

type
  Tfrmlogin = class(TForm)
    rctacesso: TRectangle;
    lblcabecalho: TLabel;
    Layout1: TLayout;
    Label1: TLabel;
    edtlogin: TEdit;
    btnacessar: TRectangle;
    lblacesso: TLabel;
    TabControl: TTabControl;
    tablogin: TTabItem;
    tabconfig: TTabItem;
    Layout2: TLayout;
    Label3: TLabel;
    Edit1: TEdit;
    Rectangle2: TRectangle;
    Label4: TLabel;
    Label5: TLabel;
    procedure btnacessarClick(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);


  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmlogin: Tfrmlogin;

implementation

{$R *.fmx}

uses uprincipal;

procedure Tfrmlogin.btnacessarClick(Sender: TObject);
begin

  //verifica se form existe
  if not assigned(frmprincipal) then
     begin
       //cria form principal
       Application.CreateForm(tfrmprincipal, frmprincipal);

       //mostrar form principal
       frmprincipal.Show;

       //torna principal
       application.MainForm := frmprincipal;

       //fecha form login
       frmlogin.Close;

     end;

end;

procedure Tfrmlogin.FormClose(Sender: TObject; var Action: TCloseAction);
begin
//limpa memória /  garbage
action := tcloseaction.caFree;
frmlogin := nil;
end;


End.
